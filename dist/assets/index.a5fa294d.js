import{d as x,G as I,r as v,a as w,o as E,c as M,b as g,t as $,u as m,e as i,w as d,N as h,f as b,g as B,h as S,i as p,j as L,k as A,l as P,m as G,n as U,p as O,q as j}from"./vendor.c2e7c4d3.js";const T=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function c(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerpolicy&&(s.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?s.credentials="include":e.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(e){if(e.ep)return;e.ep=!0;const s=c(e);fetch(e.href,s)}};T();const V=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(u){var t=Math.random()*16|0,c=u=="x"?t:t&3|8;return c.toString(16)}),y="USERID",q=()=>{let u="";return window.localStorage.getItem(y)?u=window.localStorage.getItem(y):(u=V(),window.localStorage.setItem(y,u)),u},D=x("useEasyGoStore",()=>{const u=I.getInstance({host:"hangzhou.goeasy.io",appkey:"BC-4f82115caf9f487392c3f2bec14175e3",modules:["pubsub"]}),t=u.pubsub,c=q(),n=()=>{u.connect({id:c,data:{nickname:c},onSuccess:function(){console.log("GoEasy connect successfully.")},onFailed:function(a){console.warn("Failed to connect GoEasy, code:"+a.code+",error:"+a.content)},onProgress:function(a){console.log("GoEasy is connecting",a)}})},e=()=>{u.disconnect({onSuccess:function(){console.log("GoEasy disconnect successfully.")},onFailed:function(a){console.warn("Failed to disconnect GoEasy, code:"+a.code+",error:"+a.content)}})},s="accessToken",l=(a,r)=>{t.publish({channel:a,message:r,onSuccess:function(){console.log("\u6D88\u606F\u53D1\u5E03\u6210\u529F\u3002")},onFailed:function(o){console.warn("\u6D88\u606F\u53D1\u9001\u5931\u8D25\uFF0C\u9519\u8BEF\u7F16\u7801\uFF1A"+o.code+" \u9519\u8BEF\u4FE1\u606F\uFF1A"+o.content)},accessToken:s})},F=(a,r)=>{t.subscribe({channel:a,onMessage:function(o){var f;console.log("Channel:"+o.channel+" content:"+o.content),(f=r==null?void 0:r.onMessage)==null||f.call(r,o.content)},onSuccess:function(){var o;console.log("Channel\u8BA2\u9605\u6210\u529F\u3002"),(o=r==null?void 0:r.onSuccess)==null||o.call(r,a)},onFailed:function(o){console.warn("Channel\u8BA2\u9605\u5931\u8D25, \u9519\u8BEF\u7F16\u7801\uFF1A"+o.code+" \u9519\u8BEF\u4FE1\u606F\uFF1A"+o.content)},accessToken:s})},_=a=>{t.unsubscribe({channel:a,onSuccess:function(){console.log("\u8BA2\u9605\u53D6\u6D88\u6210\u529F\u3002")},onFailed:function(r){console.warn("\u53D6\u6D88\u8BA2\u9605\u5931\u8D25\uFF0C\u9519\u8BEF\u7F16\u7801\uFF1A"+r.code+" \u9519\u8BEF\u4FE1\u606F\uFF1A"+r.content)}})};return n(),{goeasy:u,send:l,receive:F,unsubscribe:_,connect:n,disconnect:e}}),R=x("useRoomStore",()=>{let u=[];const t=v(""),{unsubscribe:c}=D();return{room:t,setRoom:F=>{t.value=F},clearRoom:()=>{t.value&&c(t.value),u=[],t.value=""},listen:F=>{u.push(F)},trigger:F=>{u.forEach(_=>_(F))}}});const H={class:"room-manage-wrapper"},W={class:"action-wrapper"},z=p("\u521B\u5EFA\u623F\u95F4"),J=p("\u52A0\u5165\u623F\u95F4"),K=p("\u786E\u8BA4"),Q=p("\u786E\u8BA4"),X=w({setup(u){const t=R(),c=v(!1),n=v(!1),e=v(""),s=()=>{e.value=""},{receive:l}=D(),F=()=>{a(),c.value=!1},_=()=>{a(),n.value=!1},a=()=>{l(e.value,{onSuccess(r){t.setRoom(r)},onMessage(r){t.trigger(r)}})};return(r,o)=>(E(),M("section",H,[g("p",null,"\u5F53\u524D\u6240\u5728\u623F\u95F4: "+$(m(t).room),1),g("section",W,[i(m(h),{type:"info",onClick:o[0]||(o[0]=f=>c.value=!0)},{default:d(()=>[z]),_:1}),i(m(h),{type:"info",onClick:o[1]||(o[1]=f=>n.value=!0)},{default:d(()=>[J]),_:1})]),i(m(S),{show:c.value,"onUpdate:show":o[3]||(o[3]=f=>c.value=f),"on-after-leave":s},{default:d(()=>[i(m(b),{style:{width:"300px"},title:"\u521B\u5EFA\u623F\u95F4"},{footer:d(()=>[i(m(h),{type:"primary",disabled:!e.value,onClick:F},{default:d(()=>[K]),_:1},8,["disabled"])]),default:d(()=>[i(m(B),{value:e.value,"onUpdate:value":o[2]||(o[2]=f=>e.value=f),type:"text",placeholder:"\u8BF7\u8F93\u5165\u623F\u95F4\u540D"},null,8,["value"])]),_:1})]),_:1},8,["show"]),i(m(S),{show:n.value,"onUpdate:show":o[5]||(o[5]=f=>n.value=f),"on-after-leave":s},{default:d(()=>[i(m(b),{style:{width:"300px"},title:"\u52A0\u5165\u623F\u95F4"},{footer:d(()=>[i(m(h),{type:"primary",disabled:!e.value,onClick:_},{default:d(()=>[Q]),_:1},8,["disabled"])]),default:d(()=>[i(m(B),{value:e.value,"onUpdate:value":o[4]||(o[4]=f=>e.value=f),type:"text",placeholder:"\u8BF7\u8F93\u5165\u623F\u95F4\u540D"},null,8,["value"])]),_:1})]),_:1},8,["show"])]))}});const Y={id:"app"},Z={class:"router-wrapper"},ee=p("\u626B\u96F7"),oe=p("\u4E94\u5B50\u68CB"),te=w({setup(u){return(t,c)=>{const n=A("router-link"),e=A("router-view");return E(),L(m(P),null,{default:d(()=>[g("section",Y,[g("div",Z,[i(n,{to:"minesweeper"},{default:d(()=>[ee]),_:1}),i(n,{to:"fiveinarow"},{default:d(()=>[oe]),_:1})]),i(X),i(e)])]),_:1})}}}),ne="modulepreload",C={},ue="https://hyy126.github.io/game-list/dist/",k=function(t,c){return!c||c.length===0?t():Promise.all(c.map(n=>{if(n=`${ue}${n}`,n in C)return;C[n]=!0;const e=n.endsWith(".css"),s=e?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${s}`))return;const l=document.createElement("link");if(l.rel=e?"stylesheet":ne,e||(l.as="script",l.crossOrigin=""),l.href=n,document.head.appendChild(l),e)return new Promise((F,_)=>{l.addEventListener("load",F),l.addEventListener("error",_)})})).then(()=>t())},N=G({history:U(),routes:[{path:"/minesweeper",name:"minesweeper",component:()=>k(()=>import("./index.9d0ebf53.js"),["assets/index.9d0ebf53.js","assets/index.c1f3a7b4.css","assets/vendor.c2e7c4d3.js"])},{path:"/fiveinarow",name:"fiveinarow",component:()=>k(()=>import("./index.f0f2e89b.js"),["assets/index.f0f2e89b.js","assets/vendor.c2e7c4d3.js"])}]});N.beforeEach(()=>{const{clearRoom:u}=R();u()});O(te).use(N).use(j()).mount("#app");export{R as a,D as u};
